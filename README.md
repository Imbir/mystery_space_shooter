# mystery_space_shooter

### Игровой процесс

Игрок управляет движением космического корабля с помощью клавиш `WASD` и стрельбой левой кнопки мыши.
Из-за верхней границы экрана в случайном месте появляются астероиды и движутся по направлению к игроку, к нижней границе экрана.
Уровень заканчивается кога все астероиды были уничтожены или покинули границы экрана, либо когда игрок столкнулся с тремя преградами.

### Сохранение данных

Данные игрока (какие уровни пройдены, параметры уровений и проч.) храянятся в классе `PlayerData`.
Сохраняются зерна (seed) для генератора случайных чисел и состояния уровней (открыт/закрыт/пройден).
Когда `GameController` запрашивает описание уровня, сохраняется случайное зерно и генерируется уровень.
Когда уровень пройден, обновляется статус текущего уровня и открывается следующий (при наличии).

### Порождение преград

Когда игрок выбирает уровень, номер уровня записывается в статическое поле `GameController`'а, затем загружается сцена с уровнем.
`GameController` получаетс от `PlayerData` описание уровня по его номеру: количество астероидов, тип (отличаются размером и количеством жизней), паузу между астероидами.
Преграды появляются в случайном месте над верхней границей экрана, для определения места появления преград используется то же зерно, что и для генерации уровня.

### Пулы объектов

Пулы объектов реализованы через интерфейс `IPoolable`. Классы которые можно держать в пулах реализуют этот интерфейс.
`IPoolable` определяет два метода: `SetParentPool(ObjectPool)` для указания пула из которого объект был взят, `ReturnToPool` для возвращения в пул.
Пулятся выстрелы игрока, астероиды, particle-эффекты взрывов. Имея `Prefab` объекта можно получить его пул через `ObjectPoolManager.Instance`.
